"use strict";(self.webpackChunkanyshake=self.webpackChunkanyshake||[]).push([[434],{117:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var s=r(5893),i=r(1151);const o={sidebar_position:1},t="Build From Source",d={id:"AnyShake Observer/Development/src-build",title:"Build From Source",description:"In this document manual procedures are explained (without make and continuous integration).",source:"@site/docs/AnyShake Observer/Development/src-build.md",sourceDirName:"AnyShake Observer/Development",slug:"/AnyShake Observer/Development/src-build",permalink:"/docs/AnyShake Observer/Development/src-build",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/docs/AnyShake Observer/Configuration/overview"},next:{title:"API Documentation",permalink:"/docs/AnyShake Observer/Development/api-docs"}},l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Get Source Code",id:"get-source-code",level:2},{value:"Build Frontend",id:"build-frontend",level:2},{value:"Build Backend",id:"build-backend",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"build-from-source",children:"Build From Source"}),"\n",(0,s.jsxs)(n.p,{children:["In this document manual procedures are explained (without ",(0,s.jsx)(n.code,{children:"make"})," and continuous integration)."]}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://golang.org/doc/install",children:"Go 1.19 or later"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.npmjs.com/get-npm",children:"NPM 9.3 or later"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://nodejs.org/en/download/",children:"Node.js 18.14 or later"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://git-scm.com/downloads",children:"Git 2.20 or later"})," (Optional)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["For Windows developers, make sure you're using Windows 10 or later. And if you have ",(0,s.jsx)(n.a,{href:"https://git-scm.com/download/win",children:"Git for Windows"})," installed, you can use Git Bash to run the commands in this document. Otherwise, please use PowerShell instead of CMD."]})}),"\n",(0,s.jsx)(n.h2,{id:"get-source-code",children:"Get Source Code"}),"\n",(0,s.jsxs)(n.p,{children:["Clone the repository with ",(0,s.jsx)(n.code,{children:"--depth=1"})," to avoid downloading the entire history."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ git clone --depth=1 https://github.com/anyshake/observer\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If you don't have ",(0,s.jsx)(n.code,{children:"git"})," installed, you can download the source code as a ",(0,s.jsx)(n.code,{children:".zip"})," or ",(0,s.jsx)(n.code,{children:".tar.gz"})," archive, extract it and ",(0,s.jsx)(n.code,{children:"cd"})," into the directory. However, you will not be able to update the source code with ",(0,s.jsx)(n.code,{children:"git pull"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/anyshake/observer/archive/refs/heads/master.zip",children:"github.com/anyshake/observer/archive/refs/heads/master.zip"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/anyshake/observer/archive/refs/heads/master.tar.gz",children:"github.com/anyshake/observer/archive/refs/heads/master.tar.gz"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"build-frontend",children:"Build Frontend"}),"\n",(0,s.jsxs)(n.p,{children:["Remove the ",(0,s.jsx)(n.code,{children:"frontend/dist"})," to avoid conflicts."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ rm -rf frontend/dist\n"})}),"\n",(0,s.jsx)(n.p,{children:"Install dependencies and build the frontend."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cd frontend/src\n$ npm install\n$ npm run build\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Move the output ",(0,s.jsx)(n.code,{children:"build"})," directory to parent, rename it to ",(0,s.jsx)(n.code,{children:"dist"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ mv build ../dist\n"})}),"\n",(0,s.jsx)(n.h2,{id:"build-backend",children:"Build Backend"}),"\n",(0,s.jsx)(n.p,{children:"Go back to the repository root directory to build backend binary."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'$ CGO_ENABLED=0 go build -ldflags="-s -w" -trimpath -o observer cmd/*.go\n'})}),"\n",(0,s.jsx)(n.p,{children:"If you're using Windows with PowerShell, please use the following command instead."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-powershell",children:'$ $env:CGO_ENABLED=0\n$ go build -ldflags="-s -w" -trimpath -o observer.exe cmd/*.go\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The output file will be ",(0,s.jsx)(n.code,{children:"observer"})," (Windows is ",(0,s.jsx)(n.code,{children:"observer.exe"}),"), test it with ",(0,s.jsx)(n.code,{children:"-version"})," or ",(0,s.jsx)(n.code,{children:"-help"})," flag."]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>d,a:()=>t});var s=r(7294);const i={},o=s.createContext(i);function t(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);