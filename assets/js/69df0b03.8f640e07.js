"use strict";(self.webpackChunkanyshake=self.webpackChunkanyshake||[]).push([[815],{2831:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>l,frontMatter:()=>s,metadata:()=>d,toc:()=>h});var o=r(5893),t=r(1151);const s={sidebar_position:4},a="Headless Mode",d={id:"AnyShake Observer/Development/headless",title:"Headless Mode",description:"For some reasons, you may want to run AnyShake Observer without its embeded web UI. In this case, you can have AnyShake Observer provide only the backend APIs, hosting your own frontend assets on Nginx, Apache or Caddy.",source:"@site/docs/AnyShake Observer/Development/headless.md",sourceDirName:"AnyShake Observer/Development",slug:"/AnyShake Observer/Development/headless",permalink:"/docs/AnyShake Observer/Development/headless",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"API Documentation",permalink:"/docs/AnyShake Observer/Development/api-docs"},next:{title:"Related Libraries",permalink:"/docs/AnyShake Observer/Development/related-lib"}},i={},h=[{value:"Nginx",id:"nginx",level:2},{value:"Apache",id:"apache",level:2},{value:"Caddy",id:"caddy",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"headless-mode",children:"Headless Mode"}),"\n",(0,o.jsx)(n.p,{children:"For some reasons, you may want to run AnyShake Observer without its embeded web UI. In this case, you can have AnyShake Observer provide only the backend APIs, hosting your own frontend assets on Nginx, Apache or Caddy."}),"\n",(0,o.jsxs)(n.p,{children:["To use AnyShake Observer in headless mode, you can set up a reverse proxy to forward requests to AnyShake Observer's back-end APIs. Assuming that your URL of AnyShake Observer is ",(0,o.jsx)(n.code,{children:"http://127.0.0.1:8073"}),", and you want to host your frontend assets on ",(0,o.jsx)(n.code,{children:"https://example.org"}),", here are some example configurations."]}),"\n",(0,o.jsx)(n.h2,{id:"nginx",children:"Nginx"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'server {\n    listen 80;\n    server_name example.org;\n\n    location / {\n        index index.html;\n        root /path/to/your/dist;\n    }\n\n    location /api {\n        proxy_pass http://127.0.0.1:8073/api;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header Connection "upgrade";\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"apache",children:"Apache"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'<VirtualHost *:80>\n    ServerName example.org\n\n    DocumentRoot /path/to/your/dist\n    <Directory /path/to/your/dist>\n        Options Indexes FollowSymLinks\n        AllowOverride All\n        Require all granted\n    </Directory>\n\n    ProxyPreserveHost On\n    ProxyPass /api http://127.0.0.1:8073/api\n    ProxyPassReverse /api http://127.0.0.1:8073/api\n\n    RequestHeader set X-Real-IP "%{REMOTE_ADDR}s"\n    RequestHeader set X-Forwarded-For "%{REMOTE_ADDR}s"\n\n</VirtualHost>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"caddy",children:"Caddy"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"example.org {\n    root * /path/to/your/dist\n    file_server\n\n    @api {\n        path /api*\n    }\n    reverse_proxy @api http://127.0.0.1:8073 {\n        header_up Host {host}\n        header_up X-Real-IP {remote}\n        header_up X-Forwarded-For {remote}\n        header_up Connection {>Connection}\n        header_up Upgrade {>Upgrade}\n    }\n}\n"})})]})}function l(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>d,a:()=>a});var o=r(7294);const t={},s=o.createContext(t);function a(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);