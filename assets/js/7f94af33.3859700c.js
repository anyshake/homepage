"use strict";(self.webpackChunkanyshake_org=self.webpackChunkanyshake_org||[]).push([[8668],{10010:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/restart-modules-57ce03e07475f15afef763341dbe277c.webp"},13223:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/download-metadata-53ca77204b2ce006c445ffda455067e6.webp"},14815:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/import-succeed-2bbd3a9001eaceb3b0bb6c44716ca592.webp"},17990:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/station-on-map-370b25c716c27fa4f00265ed3400b7dc.webp"},21132:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/global-binding-17e425123d1a8f550aa7f4626b71236d.webp"},26255:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/seedlink-config-f8c61328b3609cead73a09afbc211b73.webp"},26795:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/scautopick-binding-f73746424ef066d2e9c7ac1394042cba.webp"},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>r});var t=s(96540);const i={},a=t.createContext(i);function o(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(a.Provider,{value:n},e.children)}},30635:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/sync-metadata-succeed-469476e18d143b0e4fed4313c7a7dd4b.webp"},32691:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/enable-mappicks-596920b3d419bfc923525a701dec016f.webp"},33030:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/seedlink-instance-ec592cb37064e3e7d22d47416ab7c913.webp"},35357:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"anyshake-nexus/setup-station","title":"Setup Station","description":"To add a new station in SeisComP, the process generally involves following steps:","source":"@site/docs/anyshake-nexus/setup-station.md","sourceDirName":"anyshake-nexus","slug":"/anyshake-nexus/setup-station","permalink":"/docs/anyshake-nexus/setup-station","draft":false,"unlisted":false,"editUrl":"https://github.com/anyshake/homepage/blob/master/docs/anyshake-nexus/setup-station.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Setup Station","slug":"setup-station"},"sidebar":"tutorialSidebar","previous":{"title":"Installing Nexus","permalink":"/docs/anyshake-nexus/installing-nexus"},"next":{"title":"AnyShake Plotter","permalink":"/docs/category/anyshake-plotter"}}');var i=s(74848),a=s(28453);const o={sidebar_position:3,title:"Setup Station",slug:"setup-station"},r=void 0,l={},c=[{value:"Import the Inventory",id:"import-the-inventory",level:2},{value:"Configure the Binding",id:"configure-the-binding",level:2},{value:"seedlink",id:"seedlink",level:3},{value:"slarchive",id:"slarchive",level:3},{value:"scautopick",id:"scautopick",level:3},{value:"global",id:"global",level:3},{value:"Apply the Configuration",id:"apply-the-configuration",level:2},{value:"See the Waveform",id:"see-the-waveform",level:2},{value:"Show on the Map",id:"show-on-the-map",level:2}];function d(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"To add a new station in SeisComP, the process generally involves following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Import the Inventory"}),"\n",(0,i.jsx)(n.li,{children:"Configure the Binding"}),"\n",(0,i.jsx)(n.li,{children:"Set up related modules"}),"\n",(0,i.jsx)(n.li,{children:"Apply the configuration"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In SeisComP, the ",(0,i.jsx)(n.strong,{children:"Inventory"})," refers to the station metadata, which describes the network, stations, data channels, and instrument configurations. This information is usually stored in XML (SEED/StationXML) format and includes:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Network"}),": Network code, e.g., IU, II"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Station"}),": Station location, name, coordinates, activation time, etc."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sensor"}),": Sensor model, sensitivity, poles and zeros, calibration factors"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Data logger"}),": Information about the data acquisition system"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Channel"}),": Channel combinations (e.g., EHZ, BHE, HHN), including response, sampling rate, filters, etc."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The Inventory acts as a \u201cstatic database describing the stations and equipment\u201d and forms the basis for waveform decoding, processing, and distribution. For example, station locations determine the accuracy of event localization, while channel responses affect the correctness of moment tensor or magnitude calculations."}),"\n",(0,i.jsxs)(n.p,{children:["In the AnyShake Project, automatically generated station metadata can be found in the ",(0,i.jsx)(n.strong,{children:"Settings"})," page and is distributed in both ",(0,i.jsx)(n.strong,{children:"SeisComP XML"})," and ",(0,i.jsx)(n.strong,{children:"FDSN StationXML"})," formats."]}),"\n",(0,i.jsxs)(n.p,{children:["In contrast, the ",(0,i.jsx)(n.strong,{children:"Binding"})," defines how software modules are linked to stations and channels. SeisComP includes various modules (such as SeedLink, scautopick, scautoloc, scamp), and each needs to know how to process the data from specific stations or channels. The binding serves the following purposes:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Specify which stations/channels a module should process"}),"\n",(0,i.jsx)(n.li,{children:"Configure module-specific parameters (e.g., picking thresholds, filter settings)"}),"\n",(0,i.jsx)(n.li,{children:"Support differentiated processing for different stations/channels"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In this tutorial, we will create the following bindings and connect them to AnyShake devices via the ",(0,i.jsx)(n.strong,{children:"AnyShake Nexus"})," plugin:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"seedlink"}),": real-time data source configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"slarchive"}),": waveform archiving configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"scautopick"}),": station-specific picker configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"global"}),": system-wide configuration"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"import-the-inventory",children:"Import the Inventory"}),"\n",(0,i.jsxs)(n.p,{children:["As mentioned previously, the station metadata is available in both SeisComP XML and FDSNWS StationXML formats in AnyShake Observer. You can download the XML file from the ",(0,i.jsx)(n.strong,{children:"Settings"})," page. In the tutorial, the SeisComP XML format is downloaded."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Download Metadata",src:s(13223).A+"",width:"1920",height:"868"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["The station metadata includes the current station location, channel information, and instrument response information. It's automatically generated from your local settings, and should not be modified manually. ",(0,i.jsx)(n.strong,{children:"When the local settings is updated, the metadata should be updated accordingly"}),"."]})}),"\n",(0,i.jsx)(n.p,{children:"Open the system configuration tool with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ scconfig\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Inventory"})," tab, click ",(0,i.jsx)(n.strong,{children:"Import"}),", and select ",(0,i.jsx)(n.strong,{children:"sc3"})," as input format, also choose the path to your SeisComP XML file in the prompt dialog, and click ",(0,i.jsx)(n.strong,{children:"OK"}),":"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Import Metadata",src:s(76380).A+"",width:"1360",height:"805"})}),"\n",(0,i.jsx)(n.p,{children:"If successful, you will see the following message:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Import Succeed",src:s(14815).A+"",width:"1360",height:"806"})}),"\n",(0,i.jsxs)(n.p,{children:["After importing, the file list will be updated with the newly added metadata, select the file and click ",(0,i.jsx)(n.strong,{children:"Sync"})," button, click ",(0,i.jsx)(n.strong,{children:"Yes"})," in the warning dialog, the metadata will be synchronized to SeisComP database:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Sync Metadata Succeed",src:s(30635).A+"",width:"1360",height:"806"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you encounter an error such as ",(0,i.jsx)(n.strong,{children:"[error] Could not connect to message"})," system while synchronizing metadata, try switching back to the ",(0,i.jsx)(n.strong,{children:"System"})," tab and restarting the ",(0,i.jsx)(n.strong,{children:"scmaster"})," module. If the issue persists, you will usually need to check the database connection and related settings."]})}),"\n",(0,i.jsx)(n.h2,{id:"configure-the-binding",children:"Configure the Binding"}),"\n",(0,i.jsxs)(n.p,{children:["Go to the ",(0,i.jsx)(n.strong,{children:"Binding"})," tab, and you will see that the basic configurations such as station code and network name have already been generated automatically."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Generated Binding",src:s(52748).A+"",width:"1120",height:"741"})}),"\n",(0,i.jsx)(n.p,{children:"Double-click to enter the innermost station code, then right-click on the blank area at the lower left corner and select the module you want to add:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Add Module",src:s(36166).A+"",width:"1108",height:"730"})}),"\n",(0,i.jsx)(n.h3,{id:"seedlink",children:"seedlink"}),"\n",(0,i.jsxs)(n.p,{children:["Create a new ",(0,i.jsx)(n.strong,{children:"seedlink"})," binding, and under ",(0,i.jsx)(n.strong,{children:"sources"})," add a new ",(0,i.jsx)(n.strong,{children:"AnyShake"})," instance. You can assign any name to this instance."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Add Seedlink Instance",src:s(33030).A+"",width:"1413",height:"744"})}),"\n",(0,i.jsx)(n.p,{children:"In the newly created instance, enter the address of the server running the TCP Forwarder. Depending on your network conditions, you can also customize the timeout value (default: 10 seconds):"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Add seedlink Config",src:s(26255).A+"",width:"1413",height:"744"})}),"\n",(0,i.jsxs)(n.p,{children:["Remember to use the ",(0,i.jsx)(n.strong,{children:"Ctrl + S"})," combination key to save the changes."]}),"\n",(0,i.jsx)(n.h3,{id:"slarchive",children:"slarchive"}),"\n",(0,i.jsxs)(n.p,{children:["Create a new ",(0,i.jsx)(n.strong,{children:"slarchive"})," binding and set the ",(0,i.jsx)(n.strong,{children:"selectors"})," field to ",(0,i.jsx)(n.strong,{children:"*"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Add slarchive Binding",src:s(72642).A+"",width:"1411",height:"747"})}),"\n",(0,i.jsxs)(n.p,{children:["Remember to use the ",(0,i.jsx)(n.strong,{children:"Ctrl + S"})," combination key to save the changes."]}),"\n",(0,i.jsx)(n.h3,{id:"scautopick",children:"scautopick"}),"\n",(0,i.jsxs)(n.p,{children:["Create a new ",(0,i.jsx)(n.strong,{children:"scautopick"})," binding and adjust the trigger settings as needed. In this example, we use the default configuration."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Add scautopick Binding",src:s(26795).A+"",width:"1408",height:"789"})}),"\n",(0,i.jsxs)(n.p,{children:["Remember to use the ",(0,i.jsx)(n.strong,{children:"Ctrl + S"})," combination key to save the changes."]}),"\n",(0,i.jsx)(n.h3,{id:"global",children:"global"}),"\n",(0,i.jsxs)(n.p,{children:["Create a new ",(0,i.jsx)(n.strong,{children:"global"})," binding, set the location code, and specify the stream code for event detection. Typically, these are set to ",(0,i.jsx)(n.strong,{children:"00"})," and ",(0,i.jsx)(n.strong,{children:"EHZ"}),", following the default settings in AnyShake Observer."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Add global Binding",src:s(21132).A+"",width:"1404",height:"788"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you modified any settings in ",(0,i.jsx)(n.strong,{children:"AnyShake Observer"}),", make sure to update them here as well."]})}),"\n",(0,i.jsxs)(n.p,{children:["Remember to use the ",(0,i.jsx)(n.strong,{children:"Ctrl + S"})," combination key to save the changes."]}),"\n",(0,i.jsx)(n.h2,{id:"apply-the-configuration",children:"Apply the Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Go to the ",(0,i.jsx)(n.strong,{children:"Modules"})," tab, select ",(0,i.jsx)(n.strong,{children:"scrttv"})," from the left-hand sidebar, and check the ",(0,i.jsx)(n.strong,{children:"mapPicks"})," option."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Check mapPicks",src:s(32691).A+"",width:"1404",height:"788"})}),"\n",(0,i.jsxs)(n.p,{children:["Press ",(0,i.jsx)(n.strong,{children:"Ctrl + S"})," to save the changes. Then, go back to the ",(0,i.jsx)(n.strong,{children:"System"})," tab, hold the ",(0,i.jsx)(n.strong,{children:"Ctrl"})," key, and multi-select the following modules:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"scmaster"}),"\n",(0,i.jsx)(n.li,{children:"scamp"}),"\n",(0,i.jsx)(n.li,{children:"scautoloc"}),"\n",(0,i.jsx)(n.li,{children:"scautopick"}),"\n",(0,i.jsx)(n.li,{children:"scevent"}),"\n",(0,i.jsx)(n.li,{children:"scmag"}),"\n",(0,i.jsx)(n.li,{children:"scqc"}),"\n",(0,i.jsx)(n.li,{children:"scvoice"}),"\n",(0,i.jsx)(n.li,{children:"seedlink"}),"\n",(0,i.jsx)(n.li,{children:"slarchive"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Click ",(0,i.jsx)(n.strong,{children:"Update Configuration"})," and wait for the process to complete."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Update Configuration",src:s(97665).A+"",width:"1920",height:"882"})}),"\n",(0,i.jsxs)(n.p,{children:["Next, click ",(0,i.jsx)(n.strong,{children:"Restart"})," and wait for the selected modules to start."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Restart Modules",src:s(10010).A+"",width:"1920",height:"882"})}),"\n",(0,i.jsxs)(n.p,{children:["If everything is successful, the ",(0,i.jsx)(n.strong,{children:"Status"})," column of the selected modules will change to ",(0,i.jsx)(n.strong,{children:"Running"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"see-the-waveform",children:"See the Waveform"}),"\n",(0,i.jsxs)(n.p,{children:["Open the ",(0,i.jsx)(n.strong,{children:"scrttv"})," module using the following command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ scrttv\n"})}),"\n",(0,i.jsx)(n.p,{children:"Now you will be able to see the realtime waveform with all channels from AnyShake."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Realtime Waveform",src:s(93743).A+"",width:"1373",height:"724"})}),"\n",(0,i.jsx)(n.h2,{id:"show-on-the-map",children:"Show on the Map"}),"\n",(0,i.jsxs)(n.p,{children:["Open the ",(0,i.jsx)(n.strong,{children:"scmap"})," module using the following command:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Station on Map",src:s(17990).A+"",width:"1512",height:"730"})}),"\n",(0,i.jsx)(n.p,{children:"You can also also right-click on the station marker view the realtime waveform and data quality."})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},36166:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/add-modules-34b67915ea29dc9ad20567f253cb6eec.webp"},52748:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/generated-binding-22a01d37d18f51e19841311b9937a19e.webp"},72642:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/slarchive-binding-9c92d50334a5f4e158713d7c9adb55a8.webp"},76380:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/import-metadata-d39fe0663a351ed502d56fddde782dc6.webp"},93743:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/scrttv-waveform-d88979131b05034a96a6fa2fecd131d0.webp"},97665:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/update-configuration-611be95dd523013d5ec5001d270f6cac.webp"}}]);